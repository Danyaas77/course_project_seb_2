services:
  app:
    build: .
    image: secdev-course-app:latest
    ports:
      - "8000:8000"
    environment:
      APP_API_KEY: dev-secret-key
      ATTACHMENTS_DIR: /var/lib/app/attachments
    read_only: true
    tmpfs:
      - /tmp
    volumes:
      - attachments:/var/lib/app/attachments

volumes:
  attachments:
